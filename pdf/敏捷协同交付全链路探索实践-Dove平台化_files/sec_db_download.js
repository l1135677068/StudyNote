window.secDBDownload=(()=>{var t={264:(t,e,r)=>{t.exports=r(588)},751:function(t,e,r){var n;t.exports=n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(Object(function(){var t=new Error("Cannot find module 'crypto'");throw t.code="MODULE_NOT_FOUND",t}()))}catch(t){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),a={},c=a.lib={},s=c.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)e[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(o());return new u.init(e,t)}}),f=a.enc={},l=f.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new u.init(r,e/2)}},h=f.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new u.init(r,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},d=c.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,c=i/(4*a),s=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*a,f=t.min(4*s,i);if(s){for(var l=0;l<s;l+=a)this._doProcessBlock(o,l);r=o.splice(0,s),n.sigBytes-=f}return new u.init(r,f)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(c.Hasher=d.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new v.HMAC.init(t,r).finalize(e)}}}),a.algo={});return a}(Math)},716:function(t,e,r){var n;t.exports=(n=r(751),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.algo,c=[];!function(){for(var e=0;e<64;e++)c[e]=4294967296*t.abs(t.sin(e+1))|0}();var s=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=t[e+0],s=t[e+1],p=t[e+2],d=t[e+3],v=t[e+4],m=t[e+5],y=t[e+6],g=t[e+7],w=t[e+8],x=t[e+9],b=t[e+10],k=t[e+11],E=t[e+12],_=t[e+13],S=t[e+14],T=t[e+15],L=i[0],O=i[1],P=i[2],B=i[3];L=u(L,O,P,B,a,7,c[0]),B=u(B,L,O,P,s,12,c[1]),P=u(P,B,L,O,p,17,c[2]),O=u(O,P,B,L,d,22,c[3]),L=u(L,O,P,B,v,7,c[4]),B=u(B,L,O,P,m,12,c[5]),P=u(P,B,L,O,y,17,c[6]),O=u(O,P,B,L,g,22,c[7]),L=u(L,O,P,B,w,7,c[8]),B=u(B,L,O,P,x,12,c[9]),P=u(P,B,L,O,b,17,c[10]),O=u(O,P,B,L,k,22,c[11]),L=u(L,O,P,B,E,7,c[12]),B=u(B,L,O,P,_,12,c[13]),P=u(P,B,L,O,S,17,c[14]),L=f(L,O=u(O,P,B,L,T,22,c[15]),P,B,s,5,c[16]),B=f(B,L,O,P,y,9,c[17]),P=f(P,B,L,O,k,14,c[18]),O=f(O,P,B,L,a,20,c[19]),L=f(L,O,P,B,m,5,c[20]),B=f(B,L,O,P,b,9,c[21]),P=f(P,B,L,O,T,14,c[22]),O=f(O,P,B,L,v,20,c[23]),L=f(L,O,P,B,x,5,c[24]),B=f(B,L,O,P,S,9,c[25]),P=f(P,B,L,O,d,14,c[26]),O=f(O,P,B,L,w,20,c[27]),L=f(L,O,P,B,_,5,c[28]),B=f(B,L,O,P,p,9,c[29]),P=f(P,B,L,O,g,14,c[30]),L=l(L,O=f(O,P,B,L,E,20,c[31]),P,B,m,4,c[32]),B=l(B,L,O,P,w,11,c[33]),P=l(P,B,L,O,k,16,c[34]),O=l(O,P,B,L,S,23,c[35]),L=l(L,O,P,B,s,4,c[36]),B=l(B,L,O,P,v,11,c[37]),P=l(P,B,L,O,g,16,c[38]),O=l(O,P,B,L,b,23,c[39]),L=l(L,O,P,B,_,4,c[40]),B=l(B,L,O,P,a,11,c[41]),P=l(P,B,L,O,d,16,c[42]),O=l(O,P,B,L,y,23,c[43]),L=l(L,O,P,B,x,4,c[44]),B=l(B,L,O,P,E,11,c[45]),P=l(P,B,L,O,T,16,c[46]),L=h(L,O=l(O,P,B,L,p,23,c[47]),P,B,a,6,c[48]),B=h(B,L,O,P,g,10,c[49]),P=h(P,B,L,O,S,15,c[50]),O=h(O,P,B,L,m,21,c[51]),L=h(L,O,P,B,E,6,c[52]),B=h(B,L,O,P,d,10,c[53]),P=h(P,B,L,O,b,15,c[54]),O=h(O,P,B,L,s,21,c[55]),L=h(L,O,P,B,w,6,c[56]),B=h(B,L,O,P,T,10,c[57]),P=h(P,B,L,O,y,15,c[58]),O=h(O,P,B,L,_,21,c[59]),L=h(L,O,P,B,v,6,c[60]),B=h(B,L,O,P,k,10,c[61]),P=h(P,B,L,O,p,15,c[62]),O=h(O,P,B,L,x,21,c[63]),i[0]=i[0]+L|0,i[1]=i[1]+O|0,i[2]=i[2]+P|0,i[3]=i[3]+B|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var c=this._hash,s=c.words,u=0;u<4;u++){var f=s[u];s[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return c},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,r,n,o,i,a){var c=t+(e&r|~e&n)+o+a;return(c<<i|c>>>32-i)+e}function f(t,e,r,n,o,i,a){var c=t+(e&n|r&~n)+o+a;return(c<<i|c>>>32-i)+e}function l(t,e,r,n,o,i,a){var c=t+(e^r^n)+o+a;return(c<<i|c>>>32-i)+e}function h(t,e,r,n,o,i,a){var c=t+(r^(e|~n))+o+a;return(c<<i|c>>>32-i)+e}e.MD5=i._createHelper(s),e.HmacMD5=i._createHmacHelper(s)}(Math),n.MD5)},588:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return B()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var s=f(t,e,r);if("normal"===s.type){if(n=r.done?d:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=d,r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function m(){}function y(){}function g(){}var w={};s(w,i,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(P([])));b&&b!==r&&n.call(b,i)&&(w=b);var k=g.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:B}}function B(){return{value:e,done:!0}}return y.prototype=g,s(k,"constructor",g),s(g,"constructor",y),y.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(k),s(k,c,"Generator"),s(k,i,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},69:(t,r,n)=>{"use strict";function o(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function c(t){o(a,n,i,c,s,"next",t)}function s(t){o(a,n,i,c,s,"throw",t)}c(void 0)}))}}n.r(r),n.d(r,{downloadFile:()=>_});var a=n(264),c=n.n(a),s=n(695),u=n.n(s),f=n(716),l=n.n(f),h=function(t){"string"==typeof(t=t||{})&&(t={message:t,type:"info",duration:3e3}),t.id="message_"+(new Date).getTime();var e=document.createElement("div");e.setAttribute("style","z-index: 2007; min-width: 220px; max-width: 1000px; -webkit-box-sizing: border-box; box-sizing: border-box; border-radius: 4px; background-color: #fff; -webkit-box-shadow: 0 -2px 4px 0 rgb(0 0 0 / 2%), 0 2px 6px 6px rgb(0 0 0 / 2%), 0 2px 6px 0 rgb(0 0 0 / 4%); box-shadow: 0 -2px 4px 0 rgb(0 0 0 / 2%), 0 2px 6px 6px rgb(0 0 0 / 2%), 0 2px 6px 0 rgb(0 0 0 / 4%); border: 1px solid #e8ebf3; position: fixed; left: 50%; -webkit-transform: translateX(-50%); -ms-transform: translateX(-50%); transform: translateX(-50%); overflow: hidden; padding: 6px 12px; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center; transition: all .2s;font-family: Helvetica Neue,Helvetica,Arial,PingFang SC,Heiti SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;font-weight: inherit;");var r=document.createElement("img");r.setAttribute("src","https://s3plus.meituan.net/v1/mss_77a90a9e62374a14a95a15d8334bd502/sec-db-download/img/icon-".concat(t.type,".svg")),e.appendChild(r);var n=document.createElement("div");n.setAttribute("style","color: rgba(0,0,0,.84); font-size: 14px;line-height: 22px;margin-left: 8px;"),n.innerHTML=t.message;var o=48*document.getElementsByClassName("sec-db-message").length+24;return e.style.top=o+"px",e.appendChild(n),e.id=t.id,e.className="sec-db-message",document.body.appendChild(e),e.style.marginTop=Math.round(e.offsetHeight/2)+"px",t.duration>0&&setTimeout((function(){e.style.marginTop="-"+(e.offsetTop+e.offsetHeight)+"px",setTimeout((function(){document.body.removeChild(e)}),100)}),t.duration),t.id};h.close=function(t,e){var r=document.getElementById(t);r&&(r.style.marginTop="-"+(r.offsetTop+r.offsetHeight)+"px",setTimeout((function(){document.body.removeChild(r)}),100),"function"==typeof e&&e(instance))},["success","warning","info","error"].forEach((function(t){h[t]=function(e){return"string"==typeof e&&(e={message:e,duration:3e3}),e.type=t,h(e)}}));const p=h;var d="localhost.docbox.sankuai.com",v=function(t,r){return new Promise((function(n,o){if(r&&r.readyState===WebSocket.OPEN)return n(r);var i=setTimeout((function(){o("error")}),500);if(!window.WebSocket)throw"当前浏览器不支持websocket";try{var a=new WebSocket(t);a.onopen=function(t){clearTimeout(i),n(a)},a.onclose=function(t){console.log("channel closed")},a.onerror=function(t){clearTimeout(i),o(t)}}catch(t){clearTimeout(i),o(e)}}))},m=function(t){if(!t)throw"socket server is null";t&&t.close()},y=function(t,e){if(!t)throw"socket server is null";if(t.readyState!==WebSocket.OPEN)throw"socket server is not open";t.send(e)};const g=function(t){return new Promise(function(){var e=i(c().mark((function e(r,n){var o,i,a,s,u,f,l,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=2,i=null,a=0;case 3:if(!(a<o)){e.next=19;break}if(!i||i.readyState!==WebSocket.OPEN){e.next=6;break}return e.abrupt("break",19);case 6:return e.prev=6,s="wss://".concat(d,":17359"),e.next=10,v(s,i);case 10:i=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:a++,e.next=3;break;case 19:u=0;case 20:if(!(u<o)){e.next=36;break}if(!i||i.readyState!==WebSocket.OPEN){e.next=23;break}return e.abrupt("break",36);case 23:return e.prev=23,f="wss://".concat(d,":36892"),e.next=27,v(f,i);case 27:i=e.sent,e.next=33;break;case 30:e.prev=30,e.t1=e.catch(23),console.log(e.t1);case 33:u++,e.next=20;break;case 36:if(i&&i.readyState===WebSocket.OPEN){e.next=38;break}return e.abrupt("return",n("客户端连接失败"));case 38:i.onmessage=function(t){return clearTimeout(l),m(i),r(t.data)},e.prev=39,h={msgType:"109",fileUrl:t},y(i,JSON.stringify(h)),l=setTimeout((function(){return n("发送消息超时")}),1e3),e.next=48;break;case 45:return e.prev=45,e.t2=e.catch(39),e.abrupt("return",n("发送消息失败"+e.t2));case 48:case"end":return e.stop()}}),e,null,[[6,13],[23,30],[39,45]])})));return function(t,r){return e.apply(this,arguments)}}())};var w=/^(http(s)?):\/\/(cryptbox\.(sec\.test\.)?sankuai.com)\/file(\/xm)?\/(\d+)\/([a-z0-9]{32}\.[a-zA-Z0-9]+)$/;function x(t){return new Promise((function(e,r){u()(t,(function(){return r("客户端探测失败")}),(function(){return e(!0)}),(function(){return r("客户端探测失败")}))}))}function b(t){for(var e=window;e!=e.parent;)e=e.parent;!function(t){var e="cryptbox-download-file-id",r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("id",e),document.getElementById(e)||document.body.appendChild(r),r.click(),document.body.removeChild(r)}(t)}function k(t){return new Promise((function(e){return setTimeout(e,t)}))}function E(){return(E=i(c().mark((function t(e,r){var n,o,i,a,s,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(8===(n=w.exec(e)).length){t.next=3;break}return t.abrupt("return");case 3:return o=n[6],i=(new Date).getTime(),a="cryptbox://cryptbox.sankuai.com?fileId=".concat(o),r&&""!==r&&(s=l()(r),a+="&misId=".concat(s)),a+="&timestamp=".concat(i),u=p({message:"正在启动文枢",type:"loading",duration:0}),t.prev=9,t.next=12,g(a);case 12:if(!t.sent){t.next=19;break}return p.close(u),t.next=17,k(200);case 17:return p.success("正在使用文枢下载"),t.abrupt("return");case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(9),console.log(t.t0);case 24:return t.prev=24,t.next=27,x(a);case 27:if(!t.sent){t.next=33;break}return t.next=31,k(500);case 31:return p.close(u),t.abrupt("return");case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(24),console.log(t.t1);case 38:return t.next=40,k(2e3);case 40:return t.prev=40,t.next=43,g(a);case 43:if(!t.sent){t.next=50;break}return p.close(u),t.next=48,k(200);case 48:return p.success("正在使用文枢下载"),t.abrupt("return");case 50:t.next=55;break;case 52:t.prev=52,t.t2=t.catch(40),console.log(t.t2);case 55:return p.close(u),t.next=58,k(500);case 58:b(e="".concat(e,"?timestamp=").concat(i));case 60:case"end":return t.stop()}}),t,null,[[9,21],[24,35],[40,52]])})))).apply(this,arguments)}function _(t,e){if(t&&""!==t){if("string"==typeof t)return w.test(t)?function(t,e){E.apply(this,arguments)}(t,e):b(t),"succcess";p.error("文件下载链接格式错误")}else p.error("文件下载链接为空")}},695:t=>{var e=1e3;function r(t,e){var r=document.createElement("iframe");return r.src=e,r.id="hiddenIframe",r.style.display="none",t.appendChild(r),r}function n(t,n,o){var i=setTimeout((function(){n(),f.remove()}),e),a=document.querySelector("#hiddenIframe");a||(a=r(document.body,"about:blank"));var c,s,u,f=(c=window,s="blur",u=function(){clearTimeout(i),f.remove(),o()},c.addEventListener?(c.addEventListener(s,u),{remove:function(){c.removeEventListener(s,u)}}):(c.attachEvent(s,u),{remove:function(){c.detachEvent(s,u)}}));a.src=t}function o(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}else"Netscape"===navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)));return t}t.exports=function(t,i,a,c){function s(){i&&i()}function u(){a&&a()}if(navigator.msLaunchUri)!function(t,e,r){navigator.msLaunchUri(t,r,e)}(t,i,a);else{var f=(l=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,h=navigator.userAgent.toLowerCase(),{isOpera:l,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:~h.indexOf("safari")&&!~h.indexOf("chrome")||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,isChrome:!!window.chrome&&!l,isIE:!!document.documentMode});f.isFirefox||f.isChrome||f.isIOS?n(t,s,u):f.isIE?function(t,i,a){10===o()?function(t,n,o){var i=setTimeout(n,e);window.addEventListener("blur",(function(){clearTimeout(i),o()}));var a=document.querySelector("#hiddenIframe");a||(a=r(document.body,"about:blank"));try{a.src=t}catch(t){n(),clearTimeout(i)}}(t,i,a):9===o()||11===o()?n(t,i,a):function(t,r,n){var o=window.open("","","width=0,height=0");o.document.write("<iframe src='"+t+"'></iframe>"),setTimeout((function(){try{o.location.href,o.setTimeout("window.close()",e),n()}catch(t){o.close(),r()}}),e)}(t,i,a)}(t,s,u):f.isSafari?n(t,s,u):c()}var l,h}}},r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(69)})();